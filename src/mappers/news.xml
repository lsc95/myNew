<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.coderli.dao.NewsDao">
	<select id="selectHotNews" resultType="com.coderli.entity.News">
		select * from t_news order by count,time desc limit 0,10 
	</select>
	<select id="getChannelNew" resultType="com.coderli.entity.News">
		select * from t_news where catagory=#{channel} order by count,time desc limit 0,10
	</select>
	<select id="getNewsDetail" resultType="com.coderli.entity.News">
		select * from t_news where news_id=#{id}
	</select>
	<update id="addCount">
		update t_news set count=count+1 where news_id=#{id}
	</update>
	
	<select id="getAdviceNews" resultType="com.coderli.entity.News">
		select *,max(count) from t_news group by catagory
	</select>
	<select id="appendNews" resultType="java.util.LinkedHashMap">
		select * from t_news order by count,time desc limit #{st},#{r} 
	</select>
	<select id="getCount" resultType="int">
		select count from t_news where news_id=#{id}
	</select>
	<select id="appendChannelList" resultType="java.util.LinkedHashMap">
		select * from t_news where catagory=#{catagory} order by count asc,time desc limit #{st},#{r} 
	</select>
</mapper>